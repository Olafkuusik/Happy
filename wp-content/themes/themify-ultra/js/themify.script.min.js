var FixedHeader={},LayoutAndFilter={},themifyScript,ThemifySlider,ThemifyMediaElement,qp_max_pages;!function(f){var g=f.event,b,h={_:0},d=0,c,a;b=g.special.throttledresize={setup:function(){f(this).on("resize",b.handler)},teardown:function(){f(this).off("resize",b.handler)},handler:function(j,k){var i=this,e=arguments;c=!0,a||(setInterval(function(){d++,(d>b.threshold&&c||k)&&(j.type="throttledresize",g.dispatch.apply(i,e),c=!1,d=0),d>9&&(f(h).stop(),a=!1,d=0)},30),a=!0)},threshold:0}}(jQuery);(function(d){var b=d.event,a,c;a=b.special.debouncedresize={setup:function(){d(this).on("resize",a.handler)},teardown:function(){d(this).off("resize",a.handler)},handler:function(i,e){var h=this,g=arguments,f=function(){i.type="debouncedresize";b.dispatch.apply(h,g)};if(c){clearTimeout(c)}e?f():c=setTimeout(f,a.threshold)},threshold:150}})(jQuery);(function(e){var h=e(".type-section"),l=("undefined"!==typeof e.fn.fullpage)&&(themifyScript.fullPageScroll?true:false)&&(h.length>0),i=h.length===0,f=".section-post",c="div:not(.module-layout-part) > #loops-wrapper",a=e("body").hasClass("fixed-header"),j;if(i){l=("undefined"!==typeof e.fn.fullpage)&&(themifyScript.fullPageScroll?true:false)&&(e(".themify_builder").length>0)&&e("body").hasClass("full-section-scrolling");f=".themify_builder_row";c="div:not(.module-layout-part) > .themify_builder_content"}FixedHeader={headerHeight:0,hasHeaderSlider:false,headerSlider:false,init:function(){FixedHeader.calculateHeaderHeight();if(a){if(l){e("body").on("themify_onepage_afterload",function(q,s,p){var r=e(f+".active",e(c)).index()>0;FixedHeader.activate(r);if(r){var o=FixedHeader.headerHeight;FixedHeader.calculateHeaderHeight();if(o!=FixedHeader.headerHeight){e("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight))}}})}else{FixedHeader.activate(false);e(window).on("scroll touchstart.touchScroll touchmove.touchScroll",function(o){FixedHeader.activate(false)})}e(window).load(function(){e("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight))});e(window).on("debouncedresize",function(o){if(!o.isTrigger){FixedHeader.calculateHeaderHeight();e("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight))}});if(e("#gallery-controller").length>0){FixedHeader.hasHeaderSlider=true}if(themifyScript.sticky_header){var n='<img id="sticky_header_logo" src="'+themifyScript.sticky_header.src+'"';if(themifyScript.sticky_header.imgwidth){n+=' width="'+themifyScript.sticky_header.imgwidth+'"'}if(themifyScript.sticky_header.imgheight){n+=' height="'+themifyScript.sticky_header.imgheight+'"'}n+="/>";e("#site-logo a").prepend(n)}e("body").on("announcement_bar_position",FixedHeader.calculateHeaderHeight);e("body").on("announcement_bar_scroll_on_after",FixedHeader.calculateHeaderHeight)}},activate:function(o){var q=e(window),p=q.scrollTop(),n=e("#headerwrap");if(o||(p>=FixedHeader.headerHeight)){if(!n.hasClass("fixed-header")){FixedHeader.scrollEnabled()}}else{if(n.hasClass("fixed-header")){FixedHeader.scrollDisabled()}}},scrollDisabled:function(){e("#headerwrap").removeClass("fixed-header");e("#header").removeClass("header-on-scroll");e("body").removeClass("fixed-header-on");e("#headerwrap").hide();e("#headerwrap")[0].offsetHeight;e("#headerwrap").show();FixedHeader.calculateHeaderHeight();e("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight));if(FixedHeader.hasHeaderSlider&&"object"===typeof e("#headerwrap").data("backstretch")){e("#headerwrap").data("backstretch").resize();e("#gallery-controller .slides").trigger("next")}},scrollEnabled:function(){e("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight));e("#headerwrap").addClass("fixed-header");e("#header").addClass("header-on-scroll");e("body").addClass("fixed-header-on");if(FixedHeader.hasHeaderSlider&&"object"===typeof e("#headerwrap").data("backstretch")){e("#headerwrap").data("backstretch").resize();e("#gallery-controller .slides").trigger("next")}},calculateHeaderHeight:function(){FixedHeader.headerHeight=e("#headerwrap").outerHeight(true)}};FixedHeader.init();ThemifySlider={recalcHeight:function(o,q){var p=[],n;e.each(o,function(){p.push(e(this).outerHeight(true))});n=Math.max.apply(Math,p);q.closest(".carousel-wrap").find(".caroufredsel_wrapper, .slideshow").each(function(){e(this).outerHeight(n)})},didResize:false,createCarousel:function(o){var n=this;o.each(function(){var p=e(this);p.carouFredSel({responsive:true,prev:"#"+p.data("id")+" .carousel-prev",next:"#"+p.data("id")+" .carousel-next",pagination:{container:"#"+p.data("id")+" .carousel-pager"},circular:true,infinite:true,swipe:true,scroll:{items:p.data("scroll"),fx:"scroll",duration:parseInt(p.data("speed"))},auto:{play:("off"!==p.data("autoplay")),timeoutDuration:"off"!==p.data("autoplay")?parseInt(p.data("autoplay")):0},items:{visible:{min:1,max:p.data("visible")?parseInt(p.data("visible")):1},width:222},onCreate:function(r){var q=p.closest(".slideshow-wrap");q.css({visibility:"visible",height:"auto"});e(window).on("throttledresize",function(){n.recalcHeight(r.items,p)});e(window).resize();setTimeout(function(){q.find(".carousel-nav-wrap").css("width",(parseInt(q.find(".carousel-pager").find("a").length)*18)+"px")},200)}})})}};function m(){return e("body").hasClass("touch")}function k(n){e("body,html").animate({scrollTop:n},800)}function d(q){var p=q.prop("class").split(" "),r=new RegExp("^tb_section-","i"),n=null;for(var o=0;o<p.length;o++){if(r.test(p[o])){n=p[o]}}if(n==null){return""}return n.replace("tb_section-","")}function g(){var s=e("body"),p=false,r=themifyScript.hash.replace("#",""),o=i?c+" > "+f:f,n=!i&&""!=themifyScript.hash.replace("#","")?false:true,q=e(o).map(function(){var u=e(this),t=i&&u.is('[class*="tb_section-"]')?d(u):u.attr("id");return t?t:""});e(c).fullpage({resize:false,sectionSelector:o,paddingBottom:"78px",scrollOverflow:true,navigation:true,lockAnchors:true,autoScrolling:n,anchors:q,afterRender:function(){if(!n){e.fn.fullpage.setAutoScrolling(true)}var v=e(f+".active",e(c)),t=i&&v.is('[class*="tb_section-"]')?d(v):v.prop("id"),w=e("#main-nav").find('a[href$="#'+t+'"]');setTimeout(function(){e(".section_loader").hide();if("undefined"!==typeof ThemifyBuilderModuleJs&&"undefined"!==typeof j){j()}},1000);if(i){var u=e("#fp-nav").find("li").get(e(".themify_builder_row").length);if("undefined"!==typeof u){u.hide()}}if(w.length>0){w.closest("li").addClass("current_page_item").siblings().removeClass("current_page_item current-menu-item")}s.trigger("themify_onepage_after_render",[v,t])},afterLoad:function(){var u=e(f+".active",e(c)),t=i&&u.is('[class*="tb_section-"]')?d(u):u.prop("id"),v=e("#main-nav").find('a[href$="#'+t+'"]');if(v.length>0){v.closest("li").addClass("current_page_item").siblings().removeClass("current_page_item current-menu-item")}if(history.pushState&&t){if(p&&r!==t){history.pushState(null,null,"#"+t)}else{history.replaceState(null,null,"#"+t)}}p=true;s.trigger("themify_onepage_afterload",[u,t])},onLeave:function(v,t,x){if(s.find("> .mfp-wrap").length>0){return false}var u=i?e(c).children(f):e(c).find(f);if(u.length>0){if(v>0&&t>0){var w=v;if("up"===x){for(w=v;w>=t;w--){u.eq(w-1).css("visibility","visible")}}else{for(w=v;w<=t;w++){u.eq(w-1).css("visibility","visible")}}}}}})}function b(p,n){if("undefined"!==typeof e.fn.infinitescroll){var o=parseInt(themifyScript.maxPages);if(typeof qp_max_pages!=="undefined"){o=qp_max_pages}p.infinitescroll({navSelector:"#load-more a:last",nextSelector:"#load-more a:last",itemSelector:n,loadingText:"",donetext:"",loading:{img:themifyScript.loadingImg},maxPage:o,behavior:"auto"!==themifyScript.autoInfinite?"twitter":"",pathParse:function(q){return q.match(/^(.*?)\b2\b(?!.*\b2\b)(.*?$)/).slice(1)},bufferPx:50,pixelsFromNavToBottom:e("#footerwrap").height()},function(s,q,t){var r=e(s);e(".newItems").removeClass("newItems");r.addClass("newItems");if("reset"===themifyScript.resetFilterOnLoad){LayoutAndFilter.reset()}r.hide().imagesLoaded(function(){r.fadeIn();e(".wp-audio-shortcode, .wp-video-shortcode").not("div").each(function(){var u=e(this);if(u.closest(".mejs-audio").length===0){ThemifyMediaElement.init(u)}});if(history.pushState){history.pushState(null,null,t)}e(".post").contents().find("a:not([class='comment-reply-link'], [id='cancel-comment-reply-link'], .themify_lightbox, .post-content a[href$='jpg'], .post-content a[href$='gif'], .post-content a[href$='png'], .post-content a[href$='JPG'], .post-content a[href$='GIF'], .post-content a[href$='PNG'], .post-content a[target='_new'], .post-content a[target='_blank'])").click(function(){var u=e(this).attr("href");window.parent.location.replace(u);return false});Themify.InitGallery();if("object"===typeof p.data("isotope")){if(typeof e.fn.isotope!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.isotope.min.js",function(){p.isotope("appended",r)},null,null,function(){return("undefined"!==typeof e.fn.isotope)})}else{p.isotope("appended",r)}}if(p.hasClass("auto_tiles")&&e("body").hasClass("tile_enable")){p.trigger("infiniteloaded.themify",[r])}if(LayoutAndFilter.filterActive){LayoutAndFilter.enableFilters();if("scroll"===themifyScript.scrollToNewOnLoad){LayoutAndFilter.restore()}}e("#infscr-loading").fadeOut("normal");if(1===o){e("#load-more, #infscr-loading").remove()}e("body").trigger("infiniteloaded.themify",[r]);e(window).trigger("resize")});o=o-1;if(1<o&&"auto"!==themifyScript.autoInfinite){e(".load-more-button").show()}});if("auto"===themifyScript.autoInfinite){e("#load-more, #load-more a").hide()}}}LayoutAndFilter={filterActive:false,init:function(){e(".post-filter+.loops-wrapper:not(.auto_tiles),.masonry:not(.list-post):not(.auto_tiles)").prepend('<div class="grid-sizer"></div><div class="gutter-sizer"></div>');this.enableFilters();this.filter();this.filterActive=true},enableFilters:function(){var n=e(".post-filter");if(n.find("a").length>0&&"undefined"!==typeof e.fn.isotope){n.find("li").each(function(){var q=e(this),p=q.parent().next(),o=q.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","");if(p.find(".post.cat-"+o).length<=0){q.hide()}else{q.show()}})}},filter:function(){var o=e(".post-filter"),n=function(){o.addClass("filter-visible").on("click","a",function(t){t.preventDefault();var u=e(this).parent(),s=u.parent().next(),q=false,r=e("body").hasClass("tile_enable")&&s.hasClass("auto_tiles");if(u.hasClass("active")){u.removeClass("active");if(!r){s.isotope({masonry:{columnWidth:s.children(".grid-sizer").length>0?".grid-sizer":null,gutter:s.children(".gutter-sizer").length>0?".gutter-sizer":null},filter:".post",isOriginLeft:!e("body").hasClass("rtl")})}}else{u.siblings(".active").removeClass("active");u.addClass("active");q=u.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","");if(!r){s.isotope({filter:".cat-"+q,isOriginLeft:!e("body").hasClass("rtl")})}}if(!t.isTrigger&&r&&s.data("themify_tiles")){var p=s.children(".post");p.show();if(q){p.not(".cat-"+q).hide()}s.data("themify_tiles").update();setTimeout(function(){e.themify_tiles.resizeParent(s);o.removeClass("filter-disable")},Math.round(parseFloat(s.css("transition-duration"))*1000)+100)}else{o.removeClass("filter-disable")}})};if(o.find("a").length){if(typeof e.fn.isotope!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.isotope.min.js",n,null,null,function(){return("undefined"!==typeof e.fn.isotope)})}else{n()}}},scrolling:false,reset:function(){e(".post-filter").find("li.active").find("a").addClass("previous-active").trigger("click");this.scrolling=true},restore:function(){var o=e(".newItems").first(),n=this,q=o.offset().top-(o.outerHeight(true)/2),p=800;if(q>=800){p=800+Math.abs((q/1000)*100)}e("html,body").stop().animate({scrollTop:q},p,function(){n.scrolling=false})},layout:function(){e(".post-filter+.loops-wrapper,.masonry:not(.list-post)").addClass("masonry-done").isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".loops-wrapper > article",isOriginLeft:!e("body").hasClass("rtl")}).isotope("once","layoutComplete",function(){e(window).trigger("resize")});if(themifyScript.shop_masonry==="yes"){var o=e(".woocommerce.archive").find("#content").find("ul.products");if(o.length){o.imagesLoaded(function(){o.isotope({layoutMode:"packery",itemSelector:".product",isOriginLeft:!e("body").hasClass("rtl")}).addClass("masonry-done")})}}var n=e(".gallery-wrapper.packery-gallery");if(n.length>0){n.imagesLoaded(function(){n.isotope({layoutMode:"packery",itemSelector:".item"})})}},reLayout:function(){e(".masonry").not(".list-post").each(function(){var p=e(this);if("object"===typeof p.data("isotope")){p.isotope("layout")}});var n=e(".gallery-wrapper.packery-gallery");if(n.length>0&&"object"===typeof n.data("isotope")){n.isotope("layout")}if(themifyScript.shop_masonry==="yes"){var o=e(".woocommerce.archive").find("#content").find("ul.products");if(o.length&&"object"===typeof o.data("isotope")){o.isotope("layout")}}}};e(document).ready(function(){var u=e("body"),n=e("#header");var w=e(".header-icons");if(u.hasClass("header-leftpane")||u.hasClass("header-rightpane")){e(".cart-icon").appendTo(e(".social-widget"))}else{if(u.hasClass("header-minbar")){e(".cart-icon").appendTo(e(".header-icons"))}else{e(window).on("throttledresize",function(){if(w.is(":visible")&&!w.find(".cart-icon").length){e(".cart-icon").appendTo(w)}else{if(!w.is(":visible")&&w.find(".cart-icon").length){e(".cart-icon").appendTo(e("#main-nav-wrap"))}}})}}var t=e(".header-top-widgets .header-widget").wrap("</p>").parent().html();if(t!=undefined){e(".header-top-widgets #headerwrap").prepend("<div class='header-widget-full clearfix'><div class='header-widget-inner'>"+t+"</div></div>")}if("undefined"!==typeof e.fn.themifyScrollHighlight){u.themifyScrollHighlight()}if(e(".post-filter+.loops-wrapper,.masonry:not(.list-post)").length>0||(themifyScript.shop_masonry==="yes"&&e(".woocommerce.archive").find("#content").find("ul.products").length>0)||e(".gallery-wrapper.packery-gallery").length>0){if(typeof e.fn.isotope!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.isotope.min.js",function(){LayoutAndFilter.init();LayoutAndFilter.layout()},null,null,function(){return("undefined"!==typeof e.fn.isotope)})}else{LayoutAndFilter.init();LayoutAndFilter.layout()}}e(".back-top a").on("click",function(C){C.preventDefault();k(0)});if(u.hasClass("full-section-scrolling")){e(".back-top a").off(k(0))}e(".back-top a").on("click",function(C){C.preventDefault();if(u.hasClass("full-section-scrolling")){e(".full-section-scrolling #footerwrap").toggleClass("expanded")}});if(e("body").hasClass("touch")&&typeof jQuery.fn.themifyDropdown!="function"){Themify.LoadAsync(themify_vars.url+"/js/themify.dropdown.js",function(){e("#main-nav").themifyDropdown()})}if(u.hasClass("header-minbar")||u.hasClass("header-leftpane")){e("#menu-icon").themifySideMenu({close:"#menu-icon-close",side:"left"});var s=function(){if("undefined"!==typeof e.fn.niceScroll&&!m()){var C=n;if(u.hasClass("header-minbar")){C=e("#mobile-menu")}C.niceScroll();u.on("sidemenushow.themify",function(){setTimeout(function(){C.getNiceScroll().resize()},200)})}};if(n.length){if(typeof e.fn.niceScroll!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.nicescroll.js",s)}else{s()}}}else{if(u.hasClass("header-slide-out")||u.hasClass("header-rightpane")){e("#menu-icon").themifySideMenu({close:"#menu-icon-close",side:"right"});var q=function(){if("undefined"!==typeof e.fn.niceScroll&&!m()){var C=n;if(u.hasClass("header-slide-out")){C=e("#mobile-menu")}C.niceScroll();u.on("sidemenushow.themify",function(){setTimeout(function(){C.getNiceScroll().resize()},200)})}};if(n.length||u.hasClass("header-slide-out")){if(typeof e.fn.niceScroll!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.nicescroll.js",q)}else{q()}}}else{e("#menu-icon").themifySideMenu({close:"#menu-icon-close"});var z=e('<div class="body-overlay">');u.append(z).on("sidemenushow.themify",function(){z.addClass("body-overlay-on")}).on("sidemenuhide.themify",function(){z.removeClass("body-overlay-on")}).on("click.themify touchend.themify",".body-overlay",function(){e("#menu-icon").themifySideMenu("hide");e("#cart-icon").themifySideMenu("hide")});e(window).resize(function(){if(e("#menu-icon").is(":visible")&&e("#mobile-menu").hasClass("sidemenu-on")){z.addClass("body-overlay-on")}else{z.removeClass("body-overlay-on")}})}}if(!(u.hasClass("header-overlay"))){e("#main-nav li.menu-item-has-children > a, #main-nav li.page_item_has_children > a").after("<span class='child-arrow'></span>");e("#main-nav li.menu-item-has-children > .child-arrow, #main-nav li.page_item_has_children > .child-arrow").click(function(){e(this).toggleClass("toggle-on");return true})}e("#cart-icon").themifySideMenu({panel:"#slide-cart",close:"#cart-icon-close"});e(".highlight-post:odd").addClass("odd");var B=function(){if("undefined"!==typeof e.fn.niceScroll&&!m()){var C=e(window).width();if(C>1200){jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget, .header-stripe .header-widget").niceScroll()}}};if(jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget, .header-stripe .header-widget").length){if(typeof e.fn.niceScroll!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.nicescroll.js",B)}else{B()}}var x=e(".header-horizontal, .header-top-bar, .boxed-compact, .header-stripe").find(".header-widget");if(x.length>0){e(".header-horizontal #main-nav, .header-top-bar #main-nav, .boxed-compact #main-nav, .header-stripe #main-nav").after(e('<a href="#" class="pull-down">'));e(".pull-down").on("click",function(C){if(!m()){if(typeof e.fn.niceScroll!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.nicescroll.js",function(){x.getNiceScroll().resize()})}else{x.getNiceScroll().resize()}}e("#header").toggleClass("pull-down-close");x.slideToggle("fast",function(){e("#pagewrap").css("paddingTop",e("#headerwrap").outerHeight(true))});C.preventDefault()})}e(window).resize(function(){var C=e(window).width();var D=jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget, .header-stripe .header-widget");if(C<1200){if(D.length&&!m()){if(typeof e.fn.niceScroll!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.nicescroll.js",function(){D.getNiceScroll().remove()})}else{D.getNiceScroll().remove()}}D.attr("style","")}});e("body").on("click",".loops-wrapper.grid4.polaroid .post-image + .post-content, .loops-wrapper.grid3.polaroid .post-image + .post-content, .loops-wrapper.grid2.polaroid .post-image + .post-content, .loops-wrapper.grid4.overlay .post-image + .post-content, .loops-wrapper.grid3.overlay .post-image + .post-content, .loops-wrapper.grid2.overlay .post-image + .post-content",function(){var C=e(this).closest(".post").find("a[data-post-permalink]");if(C.attr("href")&&!C.hasClass("themify_lightbox")){window.location=C.attr("href")}});if(e(".loops-wrapper.slider").length>0){var y=0;e(".loops-wrapper.slider").each(function(){y++;var D=e(this);if("undefined"===typeof D.attr("id")){D.attr("id","loops-wrapper-"+y)}var C=D.attr("id");D.addClass("slideshow-wrap");if(D.find(".slideshow").length===0){D.wrapInner('<div class="slideshow" data-id="'+C+'" data-autoplay="off" data-speed="1000" data-effect="scroll" data-visible="3" />')}else{D.find(".slideshow").attr("data-id",C)}})}if(e(".slideshow").length>0){if(!e.fn.carouFredSel){Themify.LoadAsync(themify_vars.url+"/js/carousel.js",function(){ThemifySlider.createCarousel(e(".slideshow"))})}else{ThemifySlider.createCarousel(e(".slideshow"))}}e("body").on("announcement_bar_position announcement_bar_scroll_on_after",function(D,C){e("#pagewrap").css("paddingTop",Math.floor(e("#headerwrap").outerHeight(true)))});var A=e("#headerwrap");e("body").on("announcement_bar_position",function(D,C){if(e(this).hasClass("header-minbar")){C.css("left",A.width()-Math.abs(parseInt(A.css("left"),10)))}else{if(e(this).hasClass("header-leftpane")){}}});e("body").on("announcement_bar_position",function(D,C){if(e(this).hasClass("header-minbar")){C.css("right",A.width()-Math.abs(parseInt(A.css("right"),10)))}});var r=0;e(window).resize(function(){var C=e("#header").width();var D=e(window).width();if(D>tf_mobile_menu_trigger_point){if(e("body").hasClass("header-top-bar")||u.hasClass("header-horizontal")||u.hasClass("header-top-widgets")||u.hasClass("boxed-compact")||u.hasClass("header-stripe")||u.hasClass("header-magazine")){e("#main-nav li.has-mega-column > ul, #main-nav li.has-mega-sub-menu > .mega-sub-menu").css("width",C)}}else{if(e("body").hasClass("header-top-bar")||u.hasClass("header-horizontal")||u.hasClass("header-top-widgets")||u.hasClass("boxed-compact")||u.hasClass("header-stripe")||u.hasClass("header-magazine")){e("#main-nav li.has-mega-column > ul").removeAttr("style");e("#main-nav li.has-mega-sub-menu > .mega-sub-menu").removeAttr("style")}}if(e(".mobile_menu_active").length&&typeof v==="function"&&!r){if(typeof e.fn.niceScroll!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.nicescroll.js",v)}else{v()}r=1}});e(".header-overlay #main-nav li.menu-item-has-children > a, .header-overlay #main-nav li.page_item_has_children > a").after("<span class='child-arrow'></span>");e(".header-overlay #main-nav li.menu-item-has-children > .child-arrow, .header-overlay #main-nav li.page_item_has_children > .child-arrow").click(function(){e(this).toggleClass("toggle-on");e(this).next("div, ul").toggle("fast");return true});var v=function(){if("undefined"!==typeof e.fn.niceScroll&&!m()){if(u.hasClass("header-overlay")){var C=e("#mobile-menu");C.niceScroll();u.on("sidemenushow.themify",function(){setTimeout(function(){C.getNiceScroll().resize()},200)})}}};if(e(".mobile_menu_active").length){if(typeof e.fn.niceScroll!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.nicescroll.js",v)}else{v()}}if(l&&u.hasClass("query-section")){themifyScript.hash=window.location.hash.replace("#","").replace("!/","");if("undefined"!==typeof e.fn.themifyScrollHighlight){u.on("scrollhighlight.themify",function(D,C){if("undefined"!=typeof C&&""!=C){e("#fp-nav").find("li").eq(e(".tb_section-"+C.replace("#","")).index()).find("a").trigger("click")}});e(window).trigger("scroll")}var p=setInterval(function(){if("undefined"!==typeof ThemifyBuilderModuleJs){clearInterval(p);j=ThemifyBuilderModuleJs.wowInit;ThemifyBuilderModuleJs.wowInit=function(){}}},100);g();u.on("builder_toggle_frontend",function(D,C){if(typeof e.fn.fullpage!=="undefined"){if(C){e.fn.fullpage.destroy("all");e("html,body").css("overflowY","auto")}else{g()}}});u.on("themify_onepage_afterload",function(C,D){if(tbLocalScript&&tbLocalScript.animationInviewSelectors&&typeof ThemifyBuilderModuleJs.wow!=="undefined"&&ThemifyBuilderModuleJs.wow){e(tbLocalScript.animationInviewSelectors).each(function(F,E){e(E,D).each(function(){ThemifyBuilderModuleJs.wow.show(this)})})}});u.on("themify_onepage_afterload themify_onepage_after_render",function(D,E,C){if(e.fn.waypoint){Waypoint.refreshAll()}if("undefined"!==typeof ThemifyBuilderModuleJs&&ThemifyBuilderModuleJs.wow!==null&&typeof ThemifyBuilderModuleJs.wow.scrollHandler()==="boolean"){ThemifyBuilderModuleJs.wow.scrollHandler()}})}else{e(".section_loader").hide()}if(l){u.on("click",'a[href*="#"]:not(.themify_lightbox)',function(F){var D=e(this).prop("href"),C=D.indexOf("#"),E=C!=-1?D.substring(C+1):"",H=0,G=e(".tb_section-"+E);if(E.length>1&&G.length>0&&E!=="header"){H=G.offset().top;if(e(".fixed-header").length>0){H+=e("#headerwrap").outerHeight(true)}e.fn.fullpage.moveTo(G.index(f)+1);F.preventDefault()}})}jQuery(".loops-wrapper.overlay .post").each(function(){jQuery(this).find(".post-image").insertBefore(jQuery(this).find(".post-content"))});var o=function(){if("undefined"!==typeof e.fn.ThemifyMegaMenu){e(".has-mega-sub-menu").each(function(){var C=e(this);C.find("> ul").removeAttr("class").wrap('<div class="mega-sub-menu sub-menu" />').after('<div class="mega-menu-posts" />').find("li.menu-item-type-taxonomy").addClass("mega-link")});e(".has-mega-sub-menu").ThemifyMegaMenu({events:themifyScript.events})}};if(e(".has-mega-sub-menu").length){if(typeof e.fn.ThemifyMegaMenu!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/themify.mega-menu.js",o)}else{o()}}});e(window).resize(function(){var p=e("body");if(p.hasClass("header-menu-split")){if(e("#menu-icon").is(":visible")){var q=e(".header-bar").find("#site-logo");if(q.length==0){e("#site-logo").prependTo(".header-bar")}}else{var q=e(".themify-logo-menu-item").find("#site-logo");if(q.length==0){var n=e(".header-bar").find("#site-logo");e(".themify-logo-menu-item").append(n)}}}var o=e(window).width();if(o>tf_mobile_menu_trigger_point){if(p.hasClass("header-magazine")){$headerPadding=e(".navbar-wrapper").outerHeight();e("#headerwrap").css({paddingBottom:$headerPadding})}}});e(window).load(function(){var q=e("body");if(q.hasClass("woocommerce")&&q.hasClass("archive")){b(e("#content ul.products"),"#content .product")}else{b(e("#loops-wrapper"),".post")}function r(){var v=e("[data-fullwidthvideo]").not(".themify_builder_row"),u=[],s=e("#headerwrap"),t=s.hasClass("fixed-header");e.each(v,function(w,x){if(t){s.removeClass("fixed-header")}u[w]=new e.BigVideo({useFlashForFirefox:false,container:e(x),id:w});u[w].init();u[w].show(e(x).data("fullwidthvideo"),{doLoop:true});if(t){u[w].getPlayer().on("loadedmetadata",function(){s.addClass("fixed-header")})}})}if(e("[data-fullwidthvideo]").not(".themify_builder_row").length>0&&!m()){if(typeof e.BigVideo=="undefined"){Themify.LoadAsync(themify_vars.url+"/js/video.js",function(){Themify.LoadAsync(themify_vars.url+"/js/bigvideo.js",r)})}else{r()}}if(e(".masonry:not(.list-post), .gallery-wrapper.packery-gallery").length>0||(themifyScript.shop_masonry==="yes"&&e(".woocommerce.archive #content ul.products").length>0)){if(typeof e.fn.isotope!=="function"){Themify.LoadAsync(themifyScript.themeURI+"/js/jquery.isotope.min.js",function(){q.imagesLoaded(function(){e(window).resize();LayoutAndFilter.reLayout()},null,null,function(){return("undefined"!==typeof e.fn.isotope)})})}else{q.imagesLoaded(function(){e(window).resize();LayoutAndFilter.reLayout()})}}jQuery(function(s){s("#main-nav li, #footer-nav li").on("mouseenter mouseleave dropdown_open",function(y){if(s("ul",this).length){var A=s("ul:first",this);var z=A.offset();var u=z.left;var t=A.width();var v=s(window).width();var x=(u+t<=v);if(!x){s(this).addClass("edge")}else{s(this).removeClass("edge")}}})});if(l&&q.hasClass("query-section")){q.on("themify_onepage_after_render",function(){if("undefined"!==typeof ThemifyBuilderModuleJs&&ThemifyBuilderModuleJs.fwvideos.length>0){e.each(ThemifyBuilderModuleJs.fwvideos,function(s,t){t.getPlayer().play()})}e.each(tbLocalScript.animationInviewSelectors,function(t,s){e(s).css("visibility","hidden")});if(window.location.hash){setTimeout(function(){var s=themifyScript.hash;if(""!=s&&"#"!=s){var t=i?e(".tb_section-"+s):e("#"+s);if(t.length>0){e.fn.fullpage.moveTo(t.index()+1);e(tbLocalScript.animationInviewSelectors).each(function(v,u){e(u,t).addBack().each(function(){ThemifyBuilderModuleJs.wow.show(this)})})}}},1500)}});e(".themify_builder_row").css("visibility","visible")}e(document).on("click",".remove-item-js",function(){var s=e(this);var u={action:"theme_delete_cart",remove_item:s.attr("data-product-key")};var t=e("body").find(".ajax_add_to_cart ");e.post(woocommerce_params.ajax_url,u,function(v){var w=window.location.toString();w=w.replace("add-to-cart","added-to-cart");fragments=v.fragments;cart_hash=v.cart_hash;if(fragments){e.each(fragments,function(x,y){e(x).addClass("updating")})}e(".shop_table.cart, .updating, .cart_totals, .widget_shopping_cart").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+typeof woocommerce_params.ajax_loader_url!=="undefined"?woocommerce_params.ajax_loader_url:") no-repeat center",backgroundSize:"16px 16px",opacity:0.6}});if(s.parent().find(".added_to_cart").size()==0){s.addClass("added")}if(fragments){e.each(fragments,function(x,y){e(x).replaceWith(y)})}e(".widget_shopping_cart, .updating").stop(true).css("opacity","1").unblock();e(".shop_table.cart").load(w+" .shop_table.cart:eq(0) > *",function(){e("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />');e(".shop_table.cart").stop(true).css("opacity","1").unblock();e("body").trigger("cart_page_refreshed")});e(".cart_totals").load(w+" .cart_totals:eq(0) > *",function(){e(".cart_totals").stop(true).css("opacity","1").unblock()});if(!e(fragments["#shopdock-ultra"]).find(".cart-total").length){e("#cart-icon-close").trigger("click")}if(t.length){t.each(function(){if(e(this).hasClass("added")){e(this).removeClass("added");e(this).siblings(".added_to_cart").remove()}})}e("body").trigger("removed_from_cart",[fragments,cart_hash])});return false});function p(t){var v=e('<div class="post-tiled tiled-square-small" style="visibility: hidden !important; opacity: 0;" />').appendTo(t.first()),s=themifyScript.tiledata.padding,u=parseFloat(v.width());v.remove();t.each(function(){var w=e(this);e(this).imagesLoaded().always(function(y){w.children(".product").addClass("post");var x=w.children(".post");themifyScript.tiledata.padding=w.hasClass("no-gutter")?0:s;w.themify_tiles(themifyScript.tiledata,u);setClasses(x,u)})})}function n(s){e(document).ajaxComplete(function(v,u,t){if(t.type==="POST"&&t.url.indexOf("wpf_search")){p(e(".loops-wrapper.auto_tiles"))}})}var o=e(".auto_tiles");if(o.length>0&&q.hasClass("tile_enable")){if("undefined"===typeof Tiles){Themify.LoadAsync(themifyScript.themeURI+"/js/tiles.js",function(){if(!e.fn.themify_tiles){if("undefined"===typeof e.fn.backstretch){Themify.LoadAsync(themify_vars.url+"/js/backstretch.js",function(){Themify.LoadAsync(themifyScript.themeURI+"/js/themify-tiles.js",function(){p(o);n(o)},null,null,function(){return("undefined"!==typeof e.fn.themify_tiles)})},null,null,function(){return("undefined"!==typeof e.fn.backstretch)})}else{Themify.LoadAsync(themifyScript.themeURI+"/js/themify-tiles.js",function(){p(o);n(o)},null,null,function(){return("undefined"!==typeof e.fn.themify_tiles)})}}else{p(o);n(o)}},null,null,function(){return("undefined"!==typeof Tiles)})}else{p(o);n(o)}}})})(jQuery);