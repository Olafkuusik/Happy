(function(d){function a(f){f.addClass("current-slide")}function e(){d("#gallery-controller li").removeClass("current-slide")}function c(g){var f=g.filter(":first").attr("data-bg");if("object-fit" in document.body.style===false){d("#headerwrap").backstretch(f,{fade:themifyVars.speed})}else{d("#headerwrap").append('<img src="'+f+'" class="headerwrap-bg-deletable">');d(".headerwrap-bg-deletable").animate({opacity:1},themifyVars.speed,function(){d(this).remove();d("#headerwrap").find(".headerwrap-bg").attr("src",f)})}}var b=function(f){if("keyup"==f.type){if(27!=f.which||!d("body").hasClass("fullscreen-active")){return}}if(!d("#fullscreen-button").is(":animated")){d("#fullscreen-button").toggleClass("active");if(d("#fullscreen-button").hasClass("active")){d("#fullscreen-button").animate({right:"-40px"},100).animate({top:"10px"},100).animate({right:"10px"})}else{d("#fullscreen-button").css({right:"-40px",top:""},100).animate({bottom:"10px"},100).animate({right:"10px"})}}};d(document).ready(function(){themifyVars.autoplay=parseInt(themifyVars.autoplay,10);if(themifyVars.autoplay<=10){themifyVars.autoplay*=1000}themifyVars.speed=parseInt(themifyVars.speed,10);themifyVars.play=themifyVars.play!="no";themifyVars.wrap=themifyVars.wrap!="no";d("#gallery-controller img").each(function(){d(this).wrap('<span class="image-wrap" style="width: auto; height: auto;"/>');d(this).removeAttr("class")});d("#fullscreen-button").on("click",b);d("body").on("keyup",b);d(".carousel-playback").click(function(){d(this).toggleClass("paused")});d(window).on("resize",function(){if(d("#gallery-controller").length>0){var f=d("#headerwrap").data("backstretch");if(f){f.resize()}}})});d(window).load(function(){if(d("#gallery-controller").length>0){if("object-fit" in document.body.style===false){Themify.LoadAsync(themify_vars.url+"/js/backstretch.js",null,null,null,function(){return("undefined"!==typeof d.fn.backstretch)})}Themify.LoadAsync(themify_vars.url+"/js/carousel.js",f,null,null,function(){return("undefined"!==typeof d.fn.carouFredSel)})}function f(){var i=(d("#gallery-controller li").length>5)?"0":"1";d("#gallery-controller .slides").carouFredSel({responsive:true,circular:themifyVars.wrap,infinite:themifyVars.wrap,prev:{button:"#gallery-controller .carousel-prev",key:"left",onBefore:function(k){var l=k.items.visible;e();c(l)},onAfter:function(k){var l=k.items.visible;a(l.filter(":eq(0)"))}},next:{button:"#gallery-controller .carousel-next",key:"right",onBefore:function(k){var l=k.items.visible;e();c(l)},onAfter:function(k){var l=k.items.visible;a(l.filter(":eq("+i+")"))}},width:"100%",auto:{play:themifyVars.play,timeoutDuration:themifyVars.autoplay,button:"#gallery-controller .carousel-playback"},swipe:true,scroll:{items:1,duration:themifyVars.speed,onBefore:function(k){var l=k.items.visible;e();c(l)},onAfter:function(k){var l=k.items.visible;a(l.filter(":eq("+i+")"))}},items:{visible:5,minimum:1,width:20},onCreate:function(){d("#gallery-controller").css({height:"auto",visibility:"visible"});d("#headerwrap.header-gallery").addClass("header-gallery-ready");d("#gallery-controller .carousel-next, #gallery-controller .carousel-prev").wrap('<div class="carousel-arrow"/>');d("#gallery-controller .caroufredsel_wrapper + .carousel-nav-wrap").remove();d("#gallery-controller li:first").addClass("current-slide");if(d("#gallery-controller li").length>2){d(".carousel-playback").css("display","inline-block")}if(!themifyVars.play){d(".carousel-playback").hide()}}}).find("li").click(function(){d("#gallery-controller li").removeClass("current-slide");d(this).addClass("current-slide");d("#gallery-controller li").trigger("slideTo",[d(this),0,false,{items:1,duration:300,onBefore:function(k){},onAfter:function(k){}},null,"next"]);c(d(this))}).css("cursor","pointer");var h=[];d("#gallery-controller li").each(function(){h.push(d(this).attr("data-bg"))});d(h).each(function(){d("<img/>").attr("src",this)});if("object-fit" in document.body.style===false){d("#headerwrap").backstretch(h[0],{fade:themifyVars.speed})}else{d("#headerwrap").append('<img src="'+h[0]+'" class="headerwrap-bg">');d(".headerwrap-bg").animate({opacity:1})}var g=d("#headerwrap[data-bgcolor]");if(g.length>0){var j=g.data("bgcolor");if(g.hasClass("header-gallery")){d(".backstretch").css("background-color","#"+j)}}}})}(jQuery));