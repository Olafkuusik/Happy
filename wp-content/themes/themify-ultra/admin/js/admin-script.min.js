(function(a){a(document).ready(function(){var o=a("#section_full_scrolling"),c=o.closest(".themify_write_panel").find(".themify_field-layout"),b=c.find('[alt="sidebar-none"]').parent("a"),v=b.closest(".themify_field_row"),f=c.find('[alt="full_width"]').parent("a"),h=f.closest(".themify_field_row"),d=a("#fixed_header-default"),s=a("#full_height_header-default"),r=a("#hide_page_title"),m=r.closest(".themify_field_row"),j=a("#comment_status,#ping_status"),e=a("#commentstatusdiv").find(".meta-options"),u=a('input[name="header_design"]').closest(".themify_field"),k=u.find('[alt="header-top-bar"]'),p=u.find('[alt="header-horizontal"]'),u=u.find("img"),l=[v,h,m,e],g=[b,f],i=[d,s],t=a("#header_wrap-transparent"),q=["header-block","boxed-content","boxed-layout","header-leftpane","header-menu-split","header-rightpane","default"];a.each(l,function(w,x){a('<div class="ui-cover" style="width: 100%; height: 15%; position: absolute; z-index: 1;" />').prependTo(x).hide()});o.on("change",function(){if("yes"===o.val()){a.each(g,function(w,x){x.trigger("click")});a.each(l,function(w,x){x.animate({opacity:0.5},800);a(".ui-cover").show()});a.each(i,function(w,x){x.trigger("change");x.closest(".themify_field_row").css({opacity:0.5,cursor:"not-allowed","pointer-events":"none"})});if(a.inArray(a('[name="header_design"]').val(),q)>=0){p.trigger("click")}a.each(u,function(w,x){if(a.inArray(a(this).prop("alt"),q)>=0){a(this).closest("a").css({opacity:0.3,cursor:"not-allowed","pointer-events":"none"})}});r.val("yes").find("[value=default],[value=no]").prop("disabled",true);j.prop("checked",false).prop("disabled",true)}else{a.each(i,function(w,x){x.closest(".themify_field_row").css({opacity:1,cursor:"auto","pointer-events":"auto"})});a.each(l,function(w,x){x.animate({opacity:1},800);a(".ui-cover").hide()});a.each(u,function(w,x){if(a.inArray(a(this).prop("alt"),q)>=0){a(this).closest("a").css({opacity:1,cursor:"auto","pointer-events":"auto"})}});r.find("[value=default],[value=no]").prop("disabled",false);j.prop("disabled",false)}});a('[name="header_design"]').on("change",function(){var w=t.next("label");if(a.inArray(a(this).val(),["header-leftpane","header-rightpane","header-minbar"])>=0){t.fadeOut();w.fadeOut()}else{t.fadeIn();w.fadeIn()}}).trigger("change");o.trigger("change");a('#query-posts input[name="layout"],#query-portfolio input[name="portfolio_layout"]').change(function(C){var x=a(this).val(),z=a(this).parents("#query-posts").length>0?"":"portfolio_",A=z==""?a("#media_position").closest(".themify_field_row"):a(),B=a("#"+z+"disable_masonry").closest(".themify_field_row"),D=z==""?a("#post_content_layout"):a("#portfolio_content_layout"),D=D.closest(".themify_field_row"),w=a("#"+z+"post_gutter").closest(".themify_field_row"),y=a("#"+z+"query_category").val()||a("#"+z+"query_category + input").val();if(!y){B.hide();A.hide();D.hide();return}if(x==="list-post"||x==="auto_tiles"||x==="slider"||x==="list-large-image"||x==="list-thumb-image"||x==="grid2-thumb"){B.slideUp();if(x!=="auto_tiles"){w.slideUp();if(x==="list-post"){D.slideDown();A.slideDown()}else{D.slideUp()}}else{A.slideUp();w.slideDown();D.slideUp()}}else{B.slideDown();A.slideDown();D.slideDown();w.slideDown()}});function n(x){var w=x.closest("#query_category").length>0?"":"portfolio_";a('input[name="'+w+'layout"],#'+w+"more_posts").trigger("change")}a("#query_category,#portfolio_query_category").change(function(){n(a(this))});a("#portfolio_more_posts, #more_posts").change(function(A){var x=a(this).val(),z=a(this).parents("#query-posts").length>0?"":"portfolio_",w=a("#"+z+"hide_navigation"),y=a("#"+z+"query_category").val();w=w.closest(".themify_field_row");if(!y){w.hide();return}if(x==="infinite"||!a("#"+z+"query_category").val()){w.slideUp()}else{w.slideDown()}});a('input[name="post_layout"]').change(function(){var z=a(this).closest(".themify_write_panel").find('input[name="layout"]').closest(".themify_field"),y=z.find("a"),w=a("#image_width").closest(".themify_field_row");w.show();if(a(this).val()==="split"){y.css("pointer-events","none").last().trigger("click");z.css({opacity:0.5,cursor:"not-allowed"});a.each(u,function(){if(a(this).prop("alt")!==p.prop("alt")&&a(this).prop("alt")!==k.prop("alt")){a(this).parent("a").css({"pointer-events":"none"}).animate({opacity:0.5},800)}});u.closest(".themify_field").css("cursor","not-allowed");var x=u.find("selected img").prop("alt");if(x!==p.prop("alt")&&x!==k.prop("alt")){k.trigger("click")}}else{if(a(this).val()==="gallery"){w.hide()}y.css("pointer-events","auto");z.css({opacity:1,cursor:"auto"});u.closest(".themify_field").css("cursor","auto");u.parent("a").removeAttr("style")}});a('input[name="setting-default_page_post_layout_type"],input[name="setting-default_portfolio_single_portfolio_layout_type"]').change(function(){var w=a(this).closest(".subtab").find('input[name="setting-image_post_single_height"],input[name="setting-default_portfolio_single_image_post_width"]');w=w.closest("p");if(a(this).val()==="gallery"){w.hide()}else{w.show()}});a('input[name="setting-default_post_layout"]').change(function(){var y=a(this).closest(".subtab").find('select[name="setting-post_content_layout"]').closest("p");var x=a(this).closest(".subtab").find('select[name="setting-disable_masonry"]').closest("p");var w=a(this).closest(".subtab").find('select[name="setting-post_gutter"]').closest("p");if(a(this).val()==="list-large-image"||a(this).val()==="list-thumb-image"||a(this).val()==="grid2-thumb"){y.hide();x.hide();w.hide()}else{y.show();x.show();w.show()}});n(a("#query_category"));n(a("#portfolio_query_category"));a('input[name="header_wrap"]:checked').trigger("click");a('input[name="post_layout"],input[name="setting-default_page_post_layout_type"],input[name="setting-default_post_layout"],input[name="setting-default_portfolio_single_portfolio_layout_type"]').trigger("change");a("body").on("click","#customize-control-start_mobile_menu_acc_ctrl",function(y){if(a("a.themify-suba-toggle").is(y.target)){var w=jQuery("#customize-preview > iframe")[0].contentWindow;var x=a(this).hasClass("topen")?"show":"hide";w.jQuery("#menu-icon").themifySideMenu(x);if(a(".preview-desktop").hasClass("active")){a(".preview-mobile").trigger("click")}else{a(".preview-desktop").trigger("click")}}})})}(jQuery));